<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

    <style>
        * {
            margin: 0;
            padding: 0;
        }
        #bg {
            background: url(../../assets/images/mob/animation/bg.png) repeat center center;
        }
        #main-svg {
            display: block;
            margin: 0 auto;
        }
    </style>
    <script src='../../assets/js/mobile/lib/snap.svg.js'></script>
</head>

<body id='bg'>
    <svg width='300' height='100%' id="main-svg" version="1.1" xmlns="http://www.w3.org/2000/svg">
        <svg x='-300' y='50' id='round' version="1.1" xmlns="http://www.w3.org/2000/svg" width="280.608" height="96" viewBox="0 0 280.608 96">
            <g transform="scale(0.096,0.096)">
                <g>
                    <rect fill="none" width="2923" height="1000" />
                </g>
                <g transform="translate(0,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M477 403T372 352Q346 339 307 334Q380 270 423 216Q428 206 444 181Q459 157 465 144Q486 99 462 66Q452 58 451 56Q412 50 378 84Q374 88 334 107Q335 112 346 117Q357 121 359 129Q359 152 334 194Q282 279 221 339Q172 347 133 373Q130 327 128 156Q125 72 119 65Q104 52 90 55Q61 84 58 95Q53 101 46 118Q40 134 33 141Q32 143 45 169Q45 215 49 311L53 455Q53 443 62 624Q62 635 42 662Q25 684 38 702Q32 715 71 713Q139 686 160 656Q227 698 295 709Q379 722 434 680Q511 622 494 512Q477 403 372 352ZM402 620T370 628Q340 635 226 593Q176 565 154 545Q147 509 136 421Q203 398 246 399Q329 401 377 476Q420 562 407 602Q402 620 370 628Z" />
                    </g>
                </g>
                <g transform="translate(522,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M576 303T501 167Q409 37 221 70Q159 81 107 136Q58 188 42 252Q6 401 69 508Q94 563 269 681Q276 685 281 713Q286 719 293 719Q307 717 347 698Q366 676 366 671Q392 643 375 622Q438 601 487 547Q537 493 550 429Q576 303 501 167ZM447 487T425 533Q409 567 387 584Q358 606 344 608Q224 578 158 476Q101 386 126 271Q136 227 166 191Q200 152 242 144Q362 121 418 197Q458 251 466 333Q474 410 453 479Q447 487 425 533Z" />
                    </g>
                </g>
                <g transform="translate(1110,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M589 245T583 235Q577 223 576 217Q570 205 558 152Q539 101 533 96Q526 78 512 71Q495 65 487 69Q476 79 462 122Q460 130 457 148Q454 165 451 173Q375 73 283 66L210 69Q151 80 103 134Q58 184 44 246Q26 328 45 479Q71 677 73 662L64 680Q58 691 67 698Q64 713 92 716Q138 698 156 682Q183 672 196 628Q197 612 181 591Q165 568 163 555Q130 483 124 299Q130 195 202 155Q264 121 337 155Q410 191 440 260Q425 418 448 660L451 676Q453 686 455 692Q460 709 476 712Q487 714 500 705Q514 694 523 694Q550 673 550 649Q561 627 545 596Q525 560 526 544Q514 517 512 420Q510 239 521 186Q529 187 586 258Q588 260 590 258Q592 256 590 253Q589 245 583 235Z" />
                    </g>
                </g>
                <g transform="translate(1717,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M550 663T547 581L542 511Q540 481 537 303Q535 159 543 108L541 93Q540 83 532 81Q510 59 508 59Q478 51 451 76Q444 83 411 125Q356 194 274 313Q172 461 140 504Q134 464 134 244Q131 101 125 83Q109 65 101 59Q84 58 67 77Q59 85 56 105Q53 125 45 133Q46 137 43 146Q40 154 43 159Q54 165 57 175Q60 229 57 373Q53 566 53 624Q53 636 37 658Q22 678 25 693Q27 697 43 711Q54 713 72 707Q91 701 101 702Q105 696 125 684Q141 674 144 661Q143 641 160 618Q183 587 186 580Q391 269 460 178Q464 247 461 631Q461 656 427 692Q420 707 425 714Q435 719 455 716Q477 712 487 715Q524 703 551 661Q550 663 547 581Z" />
                    </g>
                </g>
                <g transform="translate(2307,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M600 350T539 213Q505 137 405 80Q331 56 258 66Q177 78 129 131Q111 52 113 54Q115 54 82 67Q79 73 61 98Q48 117 45 131Q42 135 41 143Q39 152 36 155Q36 161 42 165Q47 163 49 168Q51 176 50 175L41 304Q39 499 70 651Q72 659 78 673Q84 688 86 695Q92 705 108 694Q115 690 125 679Q135 668 142 664Q145 659 153 649Q161 640 163 634Q160 633 181 647Q282 724 403 711Q455 706 500 672Q547 638 567 589Q578 561 586 489Q600 350 539 213ZM447 628T375 629Q316 630 260 600Q140 536 133 473Q115 299 123 207Q166 145 238 136Q359 120 420 196Q480 271 496 376Q511 483 472 571Q447 628 375 629Z" />
                    </g>
                </g>
            </g>
        </svg>
        <svg id='one' y='130' x='300' version="1.1" xmlns="http://www.w3.org/2000/svg" width="50.88" height="96" viewBox="0 0 50.88 96">
            <g transform="scale(0.096,0.096)">
                <g>
                    <rect fill="none" width="530" height="1000" />
                </g>
                <g transform="translate(0,0)">
                    <g transform="scale(1,-1) translate(0,-893)">
                        <path stroke="none" fill="#ff4400" d="M341 641Q343 628 335 609Q324 584 323 577Q291 419 290 285Q290 266 294 233L300 180Q305 118 281 81Q263 59 243 66Q227 76 202 132Q199 134 198 141Q197 149 196 151Q177 188 189 205Q213 216 215 252Q216 260 215 282Q215 301 216 310Q213 374 223 450Q225 470 236 544Q245 602 247 637Q244 641 236 648Q228 656 225 660Q213 674 218 688Q223 689 231 697Q238 704 245 705Q267 709 279 706Q286 705 292 698Q299 691 303 690L341 641Z" />
                    </g>
                </g>
            </g>
        </svg>


    </svg>
    <script>
        var winH = window.innerHeight;
        var circlePos = {
            x: 150,
            y: 100,
            r: 50
        }
        var toString = Object.prototype.toString;
        var isArray = function(obj) {
            return toString.call(obj) == '[object Array]';
        }
        var svgMain = Snap('#main-svg');
        ! function(exports) {

            function Next(funcs) {
                this.funcs = funcs || [];
                this.complete = function() {};
            }
            var fn = Next.prototype;
            fn.use = function(f) {
                if (isArray(f)) {
                    for (var i in f) {
                        this.funcs.push(f[i]);
                    }
                } else {

                    this.funcs.push(f);
                }
                return this;
            }
            fn.start = function() {
                var funcs = this.funcs;

                function next() {
                    var f = funcs.shift();
                    if (f) {
                        f(next);
                    }
                }
                next();
            }
            exports.Next = Next;
        }(window, undefined)

        function wait(time) {
            return function(next) {
                setTimeout(next, time);
            }
        }
    </script>

    <script src="../../assets/js/mobile/animation/s1.js"></script>

    <script>
        var titleGroup;
        var firstAnimation = function(next) {
            function createTitle(parentSvg, x, y, id, title, triPath) {
                var svg = Snap(130, 35).attr({
                    x: x,
                    y: y,
                    id: id
                });
                svg.rect(0, 0, 130, 25).attr({
                    fill: '#ff4400'
                });
                svg.text('50%', 12, title).attr({
                    'text-anchor': 'middle',
                    dy: '0.3em',
                    fill: '#fff',
                    'font-size': '15px'
                });
                svg.path(triPath).attr({
                    fill: '#ff4400'
                })
                svg.appendTo(parentSvg);

                return svg;
            }
            titleGroup = svgMain.group(
                createTitle(svgMain, -130, 0, 'other-title', '普通二手车市场', 'M0 25H10V35Z').animate({
                    x: 0
                }, 1000, mina.bounce),
                createTitle(svgMain, 300, 0, 'sc-title', '大搜车', 'M130 25H120V35Z').animate({
                    x: 170
                }, 1000, mina.bounce, next),
                svgMain.image(images['vs.png'], 135, 3, 30, 20)
            ).attr({
                id: 'title-group'
            });

        };

        function preLoadImg(next) {
            var imgDir = '../../assets/images/mob/animation/';
            var imgStrs = [
                '1-left.png',
                '1-left-word.png',
                '1-right.png',
                '1-right-car.png',
                '1-right-word.png',
                'vs.png'
            ]
            var j = 0;
            var len = imgStrs.length;
            var images = {};
            for (var i = 0; i < imgStrs.length; i++) {
                var tempImg = new Image()
                var key = imgStrs[i]
                var srcUri = imgDir + key
                tempImg.src = srcUri;
                tempImg.onload = function() {
                    if (++j == len) {
                        next();
                    }
                }
                images[key] = srcUri;
            }
            window.images = images;
        }
        var next = new Next();
        next.use(preLoadImg)
            .use(firstAnimation)
            .use(screen1.funcs)
            .use(function(next) {
                //screen1.group.remove();
                //Snap('#other-title').animate({y: 0}, 500, next)
            })
            .start();
    </script>
</body>

</html>

