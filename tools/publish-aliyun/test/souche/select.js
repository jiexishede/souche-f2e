Souche.UI.Select=function(){var e=function(e,t){this.id=e,this.ele=$("string"!=typeof e?e:"#"+this.id),this.config={isAutoDrop:!0,maxDisplayItems:10},$.extend(this.config,t),this._init()};return e.prototype={_init:function(){var e=this;this._bindClick(),this._bindSelect(),$(".sc-select-list").css({height:30*this.config.maxDisplayItems}),$(".sc-select-list li",this.ele).length>10&&$(".sc-select-list",this.ele).css("height",300),$(document.body).live("click",function(){$(".sc-select-list",e.ele).addClass("hidden"),$(".sc-select-list").css({top:25})})},addOption:function(e,t){$(".sc-select-list",this.ele).append("<li><a href='#' data-value='"+e+"'>"+t+"</a></li>")},removeOption:function(e){$(".sc-select-list li a",this.ele).each(function(t,s){$(s).attr("data-value")==e&&s.parentNode.parentNode.removeChild(s.parentNode)})},removeAllOption:function(){$(".sc-select-list",this.ele).html("")},_bindClick:function(){var e=this;$(".sc-select-hd",this.ele).click(function(t){var s=$(".sc-select-list",e.ele);$(".sc-select-list",e.ele).hasClass("hidden")?($(".sc-select-list").addClass("hidden"),$(".sc-select-list",e.ele).removeClass("hidden"),e.config.isAutoDrop&&e._autoDrop(s),$(s[0].parentNode).css({zIndex:Souche.Data.DropdownzIndex++})):($(".sc-select-list").addClass("hidden"),s.css({top:25})),t.stopPropagation()})},_bindSelect:function(){var e=this;$(".sc-select-list li a",this.ele).live("click",function(t){t.preventDefault();var s=$(this).attr("data-value"),i=this.innerHTML;$(e).trigger("change",{key:s,value:i,ele:this}),$(".sc-select-content",e.ele).html(i),$(".selected_value",e.ele).val(s)})},_autoDrop:function(){this.config}},e}(),$(document).ready(function(){$("*[data-ui='select']").each(function(e,t){$(t).css({zIndex:1e3-e}),new Souche.UI.Select(t)})}),define(function(){return Souche.UI.Select});