var Action=function(){var t=/^1[3458][0-9]{9}$/;return{init:function(){var u=!1,e=!0;$("#yushou_submit").on("click",function(t){t.preventDefault(),u||SM.checkPhoneExist(function(t){t?n():(e=!0,a())})});var a=function(){e?($("#yuyue-form .tip").html("  输入您的手机号码,一键完成预约."),$("#yuyue-form #yuyue-sumbit-btn").html("预约")):($("#yuyue-form .tip").html("  输入您的手机号码,一键完成收藏."),$("#yuyue-form #yuyue-sumbit-btn").html("收藏")),$("#yuyue-popup").removeClass("hidden"),$(".wrapGrayBg").show()};$("#yuyue-back").on("click",function(t){t.preventDefault(),$("#yuyue-popup").addClass("hidden"),$(".wrapGrayBg").hide()}),$("#yuyue-form").on("submit",function(u){u.preventDefault(),t.test($("#yuyue-phone").val())?SM.PhoneRegister($("#yuyue-phone").val(),function(){e?n():o()}):$(".warning",this).removeClass("hidden")});var i=function(){var t=$("#yuyue-popup"),u=$(window).width(),a=$(window).height(),i=$("#actions").height();if(e)var n={x:.2*u,y:a-i-30};else var n={x:.55*u,y:a-i-30};t.animate({width:0,height:0,left:n.x,top:n.y},350,"linear",function(){t.addClass("hidden"),t.css({width:"100%",height:"100%",top:"0px",left:"0"})})},n=function(){$("#yuyue-sumbit-btn").html("预约中..."),$.ajax({url:$("#yushou_submit").attr("href"),dataType:"json",success:function(t){t.errorMessage?(alert(t.errorMessage),$("#yushou_submit").html("预约,开售通知我")):t.code&&"200"==t.code?($("#contactNum").html(1*$("#contactNum").html()+1),$("#yushou_submit").addClass("disabled").html("已预约成功"),u=!0):t.code&&"400"==t.code?(alert("您已经预约过该车,七天之内不能重复预约!"),$("#yushou_submit").addClass("disabled").html("已预约成功"),u=!0):(alert("预约出错，请联系客服!"),$("#yushou_submit").html("预约,开售通知我")),i()}})},s=!1;$("#fav_submit").on("click",function(t){t.preventDefault(),s||SM.checkPhoneExist(function(t){t?o():(e=!1,a())})});var o=function(){$("#yuyue-sumbit-btn").html("收藏中..."),$.ajax({url:$("#fav_submit").attr("href"),dataType:"json",success:function(t){t.errorMessage?(alert(t.errorMessage),$("#fav_submit").html("收藏")):($("#fav_submit").addClass("disabled").html("已收藏"),s=!0,$("#carFavoriteNum").html(1*$("#carFavoriteNum").html()+1)),i()}})}}}}();